import memoize from "memoize"

const streetAbbreviations: { [key: string]: string } = {
  "alley": "aly",
  "annex": "anx",
  "arcade": "arc",
  "ave": "av",
  "avenue": "av",
  "bayou": "byu",
  "beach": "bch",
  "bend": "bnd",
  "bluff": "blf",
  "bottom": "btm",
  "boulevard": "blvd",
  "branch": "br",
  "bridge": "brg",
  "brook": "brk",
  "burg": "bg",
  "bypass": "byp",
  "camp": "cp",
  "canyon": "cyn",
  "cape": "cpe",
  "causeway": "cswy",
  "center": "ctr",
  "circle": "cir",
  "cliff": "clf",
  "club": "clb",
  "common": "cmn",
  "corner": "cor",
  "course": "crse",
  "court": "ct",
  "cove": "cv",
  "creek": "crk",
  "crescent": "cres",
  "crest": "crst",
  "crossing": "xing",
  "crossroad": "xrd",
  "curve": "curv",
  "dale": "dl",
  "dam": "dm",
  "divide": "dv",
  "drive": "dr",
  "estate": "est",
  "expressway": "expy",
  "extension": "ext",
  "fall": "fall",
  "falls": "fls",
  "ferry": "fry",
  "field": "fld",
  "flat": "flt",
  "ford": "frd",
  "forest": "frst",
  "forge": "frg",
  "fork": "frk",
  "fort": "ft",
  "freeway": "fwy",
  "garden": "gdn",
  "gateway": "gtwy",
  "glen": "gln",
  "green": "grn",
  "grove": "grv",
  "harbor": "hbr",
  "haven": "hvn",
  "heights": "hts",
  "highway": "hwy",
  "hill": "hl",
  "hollow": "holw",
  "inlet": "inlt",
  "island": "is",
  "junction": "jct",
  "key": "ky",
  "knoll": "knl",
  "lake": "lk",
  "landing": "lndg",
  "lane": "ln",
  "light": "lgt",
  "loaf": "lf",
  "lock": "lck",
  "lodge": "ldg",
  "loop": "loop",
  "mall": "mall",
  "manor": "mnr",
  "meadow": "mdw",
  "mews": "mews",
  "mill": "ml",
  "mission": "msn",
  "motorway": "mtwy",
  "mount": "mt",
  "mountain": "mtn",
  "neck": "nck",
  "orchard": "orch",
  "oval": "oval",
  "overpass": "opas",
  "park": "park",
  "parkway": "pkwy",
  "pass": "pass",
  "path": "path",
  "pike": "pike",
  "pine": "pne",
  "plain": "pln",
  "plaza": "plz",
  "point": "pt",
  "port": "prt",
  "prairie": "pr",
  "radial": "radl",
  "ramp": "ramp",
  "ranch": "rnch",
  "rapid": "rpd",
  "rest": "rst",
  "ridge": "rdg",
  "river": "riv",
  "road": "rd",
  "row": "row",
  "rue": "rue",
  "run": "run",
  "shoal": "shl",
  "shore": "shr",
  "skyway": "skwy",
  "spring": "spg",
  "springs": "spgs",
  "spur": "spur",
  "square": "sq",
  "stn": "sta",
  "station": "sta",
  "stravenue": "stra",
  "stream": "strm",
  "street": "st",
  "summit": "smt",
  "terrace": "ter",
  "throughway": "trwy",
  "trace": "trce",
  "track": "trak",
  "trail": "trl",
  "trailer": "trlr",
  "tunnel": "tunl",
  "turnpike": "tpke",
  "underpass": "upas",
  "union": "un",
  "valley": "vly",
  "viaduct": "via",
  "view": "vw",
  "village": "vlg",
  "ville": "vl",
  "vista": "vis",
  "walk": "walk",
  "wall": "wall",
  "way": "way",
  "well": "wl",
  "wells": "wls",
  "and": "&",
  "/": "&"
}

const streetAbbreviationsRegex = new RegExp(`\\b(${Object.keys(streetAbbreviations).join("|")})\\b`, "gi")

export const abbreviateStreet = memoize((name: string) => {
  return name.replace(streetAbbreviationsRegex, (match) => streetAbbreviations[match.toLowerCase()])
})
